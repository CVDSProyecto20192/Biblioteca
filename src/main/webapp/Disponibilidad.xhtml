<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"

	  xmlns:p="http://primefaces.org/ui">
	  
	<h:head>
		<title>Disponibilidad</title>
	</h:head>

	<h:head>
		<script src="https://kit.fontawesome.com/a076d05399.js"></script>
	</h:head>
	<h:body>
		<h:form id="horario">
			<p:growl id="messages" showDetail="true" />

			<h1 style="text-align: center;">Consultar Disponibilidad</h1>

			<h:panelGrid style="margin: auto;" columns="2" cellpadding="20">
				<p:outputLabel value="Recurso:"/>
				<p:inputText value="#{DispoBean.recurso}" />
					

				<div style="text-align: center;">
					<p:commandButton value="Consultar" action="#{DispoBean.actionVerDisponibilidad}" update="@form"/>
				</div>
			</h:panelGrid>

			<h:panelGrid>

				<p:schedule value="#{DispoBean.eventModel}" widgetVar="myschedule" timeZone="GMT-5" >
					<p:ajax event="eventSelect" listener="#{DispoBean.onEventSelected}" />
					<p:ajax event="dateSelect" listener="#{DispoBean.onDateSelected}" oncomplete="PF('eventDialog').show();"/>
				</p:schedule>  

			</h:panelGrid>
			
			<p:dialog widgetVar="eventDialog" header="Reserva" showEffect="clip" hideEffect="clip">
				<h:panelGrid id="Reserva" columns="2">
					<p:outputLabel for="duracionHora" value="Hora(s):"/>
					<p:inputText id="duracionHora" value="#{DispoBean.duracionHora}" required="true"/>
					
					<p:outputLabel for="duracionMinutos" value="Minutos:"/>
					<p:inputText id="duracionMinutos" value="#{DispoBean.duracionMinutos}" required="true"/>
					<h:form id="concurrente">
						<h:outputText value="Recurrente: "/>
						<h:selectBooleanCheckbox id="repetir" onclick="hideOrShow(this.checked);"/>
						<h:panelGrid id="panel1" columns="2">
							<h:outputText value="Repetir cada (dias): "/>
							<p:inputText id="repetirVal" value="#{DispoBean.repetir}"/>
						</h:panelGrid>
						<h:panelGrid id="panel2" columns="4">
							<h:outputText value="Fecha fin (AAAA/MM/ddd): "/>
							<p:inputText id="aÃ±o" value="#{DispoBean.year}"/>
							<p:inputText id="mes" value="#{DispoBean.mes}"/>
							<p:inputText id="dia" value="#{DispoBean.dia}"/>
						</h:panelGrid>
						<p:commandButton value="Reservar" action="#{DispoBean.actionReservar}" />
					</h:form>
				</h:panelGrid>
			</p:dialog>
		</h:form>
	</h:body>
	
<script type="text/javascript">
    function hideOrShow(show) {
        // Get the panel using its ID
        var obj = document.getElementById("horario:concurrente:panel1");
		var obj2 = document.getElementById("horario:concurrente:panel2");
        if (show) {
            obj.style.display = "block";
			obj2.style.display = "block";
        } else {
            obj.style.display = "none";
			obj2.style.display = "none";
        }
    }
</script>

</html>